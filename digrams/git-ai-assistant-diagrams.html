<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Git AI Assistant - Architecture Diagrams</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fa;
        }
        h1 {
            color: #007ACC;
            text-align: center;
            margin-bottom: 30px;
            border-bottom: 2px solid #007ACC;
            padding-bottom: 10px;
        }
        h2 {
            color: #4a4a4a;
            margin-top: 40px;
            border-left: 4px solid #007ACC;
            padding-left: 10px;
        }
        .diagram-container {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin: 20px 0;
            overflow-x: auto;
        }
        p {
            margin-bottom: 15px;
        }
        .note {
            background-color: #e6f7ff;
            border-left: 4px solid #1890ff;
            padding: 10px;
            margin: 20px 0;
            border-radius: 0 4px 4px 0;
        }
    </style>
</head>
<body>
    <h1>Git AI Assistant - Architecture Diagrams</h1>
    
    <p>This document contains visualizations of the Git AI Assistant VS Code extension's architecture and workflows. These diagrams will help you understand the structure and flow of the application.</p>

    <div class="note">
        Note: These diagrams are simplified representations and may not capture every implementation detail. Use them as a high-level guide to understand the codebase.
    </div>

    <h2>1. Architecture Overview</h2>
    <p>This diagram shows the main components of the Git AI Assistant and how they interact.</p>
    <div class="diagram-container">
        <svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
          <!-- Main components -->
          <rect x="50" y="50" width="700" height="500" rx="10" ry="10" fill="#f5f5f5" stroke="#ccc" stroke-width="2"/>
          <text x="400" y="30" font-family="Arial" font-size="20" text-anchor="middle" font-weight="bold">Git AI Assistant Architecture</text>
          
          <!-- VS Code Extension -->
          <rect x="100" y="100" width="600" height="100" rx="5" ry="5" fill="#2C2C32" stroke="#007ACC" stroke-width="2"/>
          <text x="400" y="150" font-family="Arial" font-size="18" text-anchor="middle" fill="white">VS Code Extension (extension.ts)</text>
          <text x="400" y="175" font-family="Arial" font-size="14" text-anchor="middle" fill="#cccccc">User Interface, Commands, Extension Lifecycle</text>
          
          <!-- Core Components -->
          <rect x="100" y="220" width="180" height="80" rx="5" ry="5" fill="#4EC9B0" stroke="#333" stroke-width="2"/>
          <text x="190" y="265" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">GitDiffReader</text>
          
          <rect x="310" y="220" width="180" height="80" rx="5" ry="5" fill="#9CDCFE" stroke="#333" stroke-width="2"/>
          <text x="400" y="265" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">TemplateManager</text>
          
          <rect x="520" y="220" width="180" height="80" rx="5" ry="5" fill="#B5CEA8" stroke="#333" stroke-width="2"/>
          <text x="610" y="265" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">AIServiceFactory</text>
          
          <!-- AI Services -->
          <rect x="150" y="350" width="200" height="80" rx="5" ry="5" fill="#FF9900" stroke="#333" stroke-width="2"/>
          <text x="250" y="395" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">AWS Bedrock Service</text>
          
          <rect x="450" y="350" width="200" height="80" rx="5" ry="5" fill="#4285F4" stroke="#333" stroke-width="2"/>
          <text x="550" y="395" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">Google Gemini Service</text>
          
          <!-- Output -->
          <rect x="250" y="450" width="300" height="60" rx="5" ry="5" fill="#DCDCAA" stroke="#333" stroke-width="2"/>
          <text x="400" y="485" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">Generated PR Description</text>
          
          <!-- Flow arrows -->
          <path d="M400,200 L400,220" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
          
          <path d="M190,300 L250,350" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
          <path d="M400,300 L400,320 L250,320 L250,350" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
          <path d="M400,300 L400,320 L550,320 L550,350" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
          <path d="M610,300 L550,350" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
          
          <path d="M250,430 L400,450" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
          <path d="M550,430 L400,450" stroke="#333" stroke-width="2" marker-end="url(#arrowhead)"/>
          
          <!-- Arrow Definition -->
          <defs>
            <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
              <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
            </marker>
          </defs>
        </svg>
    </div>

    <h2>2. PR Description Generation Flow</h2>
    <p>This diagram illustrates the process flow when a user generates a PR description.</p>
    <div class="diagram-container">
        <svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
          <rect x="50" y="50" width="700" height="500" rx="10" ry="10" fill="#f5f5f5" stroke="#ccc" stroke-width="2"/>
          <text x="400" y="30" font-family="Arial" font-size="20" text-anchor="middle" font-weight="bold">PR Description Generation Flow</text>
          
          <!-- Process steps -->
          <rect x="100" y="100" width="600" height="60" rx="5" ry="5" fill="#C586C0" stroke="#333" stroke-width="2"/>
          <text x="400" y="135" font-family="Arial" font-size="16" text-anchor="middle" fill="white">User Triggers "Generate PR Description" Command</text>
          
          <rect x="100" y="180" width="600" height="60" rx="5" ry="5" fill="#569CD6" stroke="#333" stroke-width="2"/>
          <text x="400" y="215" font-family="Arial" font-size="16" text-anchor="middle" fill="white">GitDiffReader Extracts Staged/Unstaged Changes</text>
          
          <rect x="100" y="260" width="600" height="60" rx="5" ry="5" fill="#4FC1FF" stroke="#333" stroke-width="2"/>
          <text x="400" y="295" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">TemplateManager Retrieves Selected Template</text>
          
          <rect x="100" y="340" width="600" height="60" rx="5" ry="5" fill="#CE9178" stroke="#333" stroke-width="2"/>
          <text x="400" y="375" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">AIServiceFactory Creates Provider-Specific Service</text>
          
          <rect x="100" y="420" width="600" height="60" rx="5" ry="5" fill="#6A9955" stroke="#333" stroke-width="2"/>
          <text x="400" y="455" font-family="Arial" font-size="16" text-anchor="middle" fill="white">AI Service Generates PR Description Based on Diff & Template</text>
          
          <rect x="100" y="500" width="600" height="60" rx="5" ry="5" fill="#007ACC" stroke="#333" stroke-width="2"/>
          <text x="400" y="535" font-family="Arial" font-size="16" text-anchor="middle" fill="white">VS Code Opens Generated Description in Editor</text>
          
          <!-- Flow arrows -->
          <path d="M400,160 L400,180" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
          <path d="M400,240 L400,260" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
          <path d="M400,320 L400,340" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
          <path d="M400,400 L400,420" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
          <path d="M400,480 L400,500" stroke="#333" stroke-width="2" marker-end="url(#arrowhead2)"/>
          
          <!-- Arrow Definition -->
          <defs>
            <marker id="arrowhead2" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
              <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
            </marker>
          </defs>
        </svg>
    </div>

    <h2>3. Configuration UI Flow</h2>
    <p>This diagram shows how the user interacts with the configuration UI to set up the extension.</p>
    <div class="diagram-container">
        <svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
          <rect x="50" y="50" width="700" height="500" rx="10" ry="10" fill="#f5f5f5" stroke="#ccc" stroke-width="2"/>
          <text x="400" y="30" font-family="Arial" font-size="20" text-anchor="middle" font-weight="bold">Configuration UI Flow</text>
          
          <!-- VS Code -->
          <rect x="100" y="100" width="200" height="80" rx="5" ry="5" fill="#2C2C32" stroke="#007ACC" stroke-width="2"/>
          <text x="200" y="145" font-family="Arial" font-size="16" text-anchor="middle" fill="white">VS Code Sidebar</text>
          
          <!-- Config Panel -->
          <rect x="400" y="100" width="300" height="100" rx="5" ry="5" fill="#68217A" stroke="#333" stroke-width="2"/>
          <text x="550" y="140" font-family="Arial" font-size="16" text-anchor="middle" fill="white">Provider Config Panel</text>
          <text x="550" y="165" font-family="Arial" font-size="14" text-anchor="middle" fill="#cccccc">- AWS/Google Settings</text>
          <text x="550" y="185" font-family="Arial" font-size="14" text-anchor="middle" fill="#cccccc">- Template Selection</text>
          
          <!-- Provider Specific -->
          <rect x="150" y="250" width="200" height="80" rx="5" ry="5" fill="#FF9900" stroke="#333" stroke-width="2"/>
          <text x="250" y="295" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">AWS Bedrock Config</text>
          
          <rect x="500" y="250" width="200" height="80" rx="5" ry="5" fill="#4285F4" stroke="#333" stroke-width="2"/>
          <text x="600" y="295" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">Google Gemini Config</text>
          
          <!-- Template Config -->
          <rect x="300" y="400" width="200" height="80" rx="5" ry="5" fill="#9CDCFE" stroke="#333" stroke-width="2"/>
          <text x="400" y="440" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">Template Settings</text>
          <text x="400" y="460" font-family="Arial" font-size="14" text-anchor="middle" fill="#333">Default or Custom</text>
          
          <!-- Arrows -->
          <path d="M300,140 L400,140" stroke="#333" stroke-width="2" marker-end="url(#arrowhead3)"/>
          <text x="350" y="130" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Click Configure</text>
          
          <path d="M550,200 L250,250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead3)"/>
          <text x="380" y="230" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Select AWS</text>
          
          <path d="M550,200 L600,250" stroke="#333" stroke-width="2" marker-end="url(#arrowhead3)"/>
          <text x="590" y="230" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Select Google</text>
          
          <path d="M550,200 L400,400" stroke="#333" stroke-width="2" marker-end="url(#arrowhead3)"/>
          <text x="460" y="300" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Configure Template</text>
          
          <!-- VS Code Settings -->
          <rect x="500" y="400" width="200" height="80" rx="5" ry="5" fill="#007ACC" stroke="#333" stroke-width="2"/>
          <text x="600" y="440" font-family="Arial" font-size="16" text-anchor="middle" fill="white">VS Code Settings</text>
          <text x="600" y="460" font-family="Arial" font-size="14" text-anchor="middle" fill="white">Global Configuration</text>
          
          <path d="M250,330 L600,400" stroke="#333" stroke-width="2" marker-end="url(#arrowhead3)"/>
          <path d="M600,330 L600,400" stroke="#333" stroke-width="2" marker-end="url(#arrowhead3)"/>
          <path d="M400,480 L600,480" stroke="#333" stroke-width="2" marker-end="url(#arrowhead3)"/>
          <text x="500" y="500" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Save Settings</text>
          
          <!-- Arrow Definition -->
          <defs>
            <marker id="arrowhead3" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
              <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
            </marker>
          </defs>
        </svg>
    </div>

    <h2>4. Component Message Flow</h2>
    <p>This diagram illustrates how messages and data flow between different components of the extension.</p>
    <div class="diagram-container">
        <svg width="800" height="450" xmlns="http://www.w3.org/2000/svg">
          <rect x="50" y="50" width="700" height="350" rx="10" ry="10" fill="#f5f5f5" stroke="#ccc" stroke-width="2"/>
          <text x="400" y="30" font-family="Arial" font-size="20" text-anchor="middle" font-weight="bold">Component Message Flow</text>
          
          <!-- Components -->
          <rect x="100" y="100" width="150" height="60" rx="5" ry="5" fill="#2C2C32" stroke="#007ACC" stroke-width="2"/>
          <text x="175" y="135" font-family="Arial" font-size="16" text-anchor="middle" fill="white">UI / Commands</text>
          
          <rect x="550" y="100" width="150" height="60" rx="5" ry="5" fill="#9CDCFE" stroke="#333" stroke-width="2"/>
          <text x="625" y="135" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">VS Code Settings</text>
          
          <rect x="100" y="250" width="150" height="60" rx="5" ry="5" fill="#4EC9B0" stroke="#333" stroke-width="2"/>
          <text x="175" y="285" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">GitDiffReader</text>
          
          <rect x="325" y="250" width="150" height="60" rx="5" ry="5" fill="#B5CEA8" stroke="#333" stroke-width="2"/>
          <text x="400" y="285" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">TemplateManager</text>
          
          <rect x="550" y="250" width="150" height="60" rx="5" ry="5" fill="#569CD6" stroke="#333" stroke-width="2"/>
          <text x="625" y="285" font-family="Arial" font-size="16" text-anchor="middle" fill="#333">AI Service</text>
          
          <!-- Messages -->
          <path d="M175,160 L175,250" stroke="#333" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead4)"/>
          <text x="135" y="200" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Get Diff</text>
          
          <path d="M250,130 L550,130" stroke="#333" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead4)"/>
          <text x="400" y="120" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Read/Write Settings</text>
          
          <path d="M175,310 L325,310" stroke="#333" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead4)"/>
          <text x="250" y="330" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Pass Diff</text>
          
          <path d="M400,160 L400,250" stroke="#333" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead4)"/>
          <text x="450" y="200" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Get Template</text>
          
          <path d="M475,280 L550,280" stroke="#333" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead4)"/>
          <text x="512" y="300" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Template + Diff</text>
          
          <path d="M625,250 L625,160" stroke="#333" stroke-width="2" stroke-dasharray="5,5" marker-end="url(#arrowhead4)"/>
          <text x="680" y="200" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">PR Description</text>
          
          <!-- Feedback loop -->
          <path d="M175,250 L175,160" stroke="#333" stroke-width="2" marker-end="url(#arrowhead4)" stroke-dasharray="1,1" transform="translate(50,0)"/>
          <text x="260" y="200" font-family="Arial" font-size="12" text-anchor="middle" fill="#333">Response</text>
          
          <!-- Arrow Definition -->
          <defs>
            <marker id="arrowhead4" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
              <polygon points="0 0, 10 3.5, 0 7" fill="#333"/>
            </marker>
          </defs>
        </svg>
    </div>

    <div class="note">
        <p><strong>How to use these diagrams:</strong></p>
        <p>Refer to these diagrams as you explore the codebase to understand how different parts relate to each other. The colors are consistent across diagrams to help you identify the same components.</p>
    </div>

    <footer style="margin-top: 50px; text-align: center; color: #666; border-top: 1px solid #ccc; padding-top: 20px;">
        <p>Git AI Assistant Architecture Diagrams - Created for learning and reference purposes.</p>
    </footer>
</body>
</html> 